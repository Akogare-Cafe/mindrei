@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Noto+Sans:wght@400;500;600;700&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-display);
  --font-mono: var(--font-body);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
}

:root {
  --radius: 16px;
  --background: #f8f9fc;
  --foreground: #1a1a3e;
  --card: rgba(255, 253, 250, 0.85);
  --card-foreground: #1a1a3e;
  --popover: rgba(255, 253, 250, 0.95);
  --popover-foreground: #1a1a3e;
  --primary: #5B6EE1;
  --primary-foreground: #f8f9fc;
  --secondary: #e8ecf7;
  --secondary-foreground: #3B4BA8;
  --muted: #f0f2f8;
  --muted-foreground: #6B7A99;
  --accent: #E53935;
  --accent-foreground: #ffffff;
  --destructive: #dc2626;
  --border: rgba(91, 110, 225, 0.25);
  --input: rgba(250, 248, 245, 0.8);
  --ring: #5B6EE1;
  --chart-1: #5B6EE1;
  --chart-2: #E53935;
  --chart-3: #6B7A99;
  --chart-4: #8B9AD8;
  --chart-5: #EF5350;
  --sidebar: rgba(250, 248, 245, 0.9);
  --sidebar-foreground: #1a1a3e;
  --sidebar-primary: #5B6EE1;
  --sidebar-primary-foreground: #f8f9fc;
  --sidebar-accent: #d4d9f7;
  --sidebar-accent-foreground: #3B4BA8;
  --sidebar-border: rgba(91, 110, 225, 0.2);
  --sidebar-ring: #5B6EE1;
  
  --node-purple: #7c3aed;
  --node-teal: #0d9488;
  --node-yellow: #d97706;
  --node-pink: #db2777;
  --node-blue: #2563eb;
  --node-green: #16a34a;
  
  --glass-blur: 12px;
  --glass-opacity: 0.75;
}

.dark {
  --background: #0a0a1a;
  --foreground: #e8ecf7;
  --card: rgba(20, 20, 45, 0.85);
  --card-foreground: #e8ecf7;
  --popover: rgba(20, 20, 45, 0.95);
  --popover-foreground: #e8ecf7;
  --primary: #8B9AD8;
  --primary-foreground: #0a0a1a;
  --secondary: #1a1a3e;
  --secondary-foreground: #a8b4e0;
  --muted: #1a1a3e;
  --muted-foreground: #8B9AD8;
  --accent: #EF5350;
  --accent-foreground: #0a0a1a;
  --destructive: #ef4444;
  --border: rgba(139, 154, 216, 0.15);
  --input: rgba(20, 20, 45, 0.8);
  --ring: #8B9AD8;
  --chart-1: #8B9AD8;
  --chart-2: #EF5350;
  --chart-3: #8B9AD8;
  --chart-4: #a8b4e0;
  --chart-5: #E53935;
  --sidebar: rgba(10, 10, 26, 0.95);
  --sidebar-foreground: #e8ecf7;
  --sidebar-primary: #8B9AD8;
  --sidebar-primary-foreground: #0a0a1a;
  --sidebar-accent: #2a2a5e;
  --sidebar-accent-foreground: #a8b4e0;
  --sidebar-border: rgba(139, 154, 216, 0.1);
  --sidebar-ring: #8B9AD8;
  
  --node-purple: #a78bfa;
  --node-teal: #2dd4bf;
  --node-yellow: #fbbf24;
  --node-pink: #f472b6;
  --node-blue: #60a5fa;
  --node-green: #4ade80;
  
  --glass-blur: 16px;
  --glass-opacity: 0.7;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Space Grotesk', 'Noto Sans', sans-serif;
    font-size: 16px;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6, .font-heading, .font-display {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    letter-spacing: -0.015em;
  }

  .font-body {
    font-family: 'Noto Sans', sans-serif;
  }
}

@layer components {
  .shimmer {
    position: relative;
    overflow: hidden;
  }
  
  .shimmer::after {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(91, 110, 225, 0.2),
      transparent
    );
    animation: shimmer 3s infinite;
  }
  
  @keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
  }

  .fade-in {
    animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); filter: blur(2px); }
    to { opacity: 1; transform: translateY(0); filter: blur(0); }
  }

  .fantasy-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  .fantasy-card:hover {
    border-color: var(--primary);
    box-shadow: 0 8px 32px -8px rgba(91, 110, 225, 0.25);
    transform: translateY(-2px);
  }

  .voice-pulse {
    animation: voicePulse 2s ease-in-out infinite;
  }

  @keyframes voicePulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(91, 110, 225, 0.5);
    }
    50% { 
      transform: scale(1.03);
      box-shadow: 0 0 0 24px rgba(91, 110, 225, 0);
    }
  }

  .voice-wave {
    animation: voiceWave 1.5s ease-in-out infinite;
  }

  @keyframes voiceWave {
    0%, 100% { transform: scaleY(0.6); }
    50% { transform: scaleY(1); }
  }

  .mind-map-node {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mind-map-node:hover {
    transform: scale(1.02);
  }

  .node-appear {
    animation: nodeAppear 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes nodeAppear {
    0% {
      opacity: 0;
      transform: scale(0.5) translateY(-16px);
      filter: blur(4px);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
      filter: blur(0);
    }
  }

  .edge-draw {
    animation: edgeDraw 0.6s ease-out forwards;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
  }

  @keyframes edgeDraw {
    to {
      stroke-dashoffset: 0;
    }
  }

  .branch-grow {
    animation: branchGrow 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    transform-origin: left center;
  }

  @keyframes branchGrow {
    0% {
      transform: scaleX(0);
      opacity: 0;
      filter: blur(2px);
    }
    100% {
      transform: scaleX(1);
      opacity: 1;
      filter: blur(0);
    }
  }

  .float-gentle {
    animation: floatGentle 4s ease-in-out infinite;
  }

  @keyframes floatGentle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  .glow-soft {
    box-shadow: 0 0 20px -5px var(--primary);
  }

  .glass-panel {
    background: var(--card);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--border);
    border-radius: 24px;
  }

  .glass-panel-strong {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 24px;
  }

  .dark .glass-panel-strong {
    background: rgba(91, 110, 225, 0.08);
    border: 1px solid rgba(91, 110, 225, 0.12);
  }

  .organic-blob {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    animation: morphBlob 8s ease-in-out infinite;
  }

  @keyframes morphBlob {
    0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
    25% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
    50% { border-radius: 50% 60% 30% 60% / 30% 60% 70% 40%; }
    75% { border-radius: 60% 40% 60% 30% / 70% 30% 50% 60%; }
  }

  .kinetic-text {
    display: inline-block;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .kinetic-text:hover {
    transform: scale(1.05) rotate(-1deg);
  }

  .hand-drawn-border {
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    border: 2px solid var(--border);
  }

  .sketch-underline {
    position: relative;
  }

  .sketch-underline::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--primary);
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    transform: rotate(-0.5deg);
  }

  .tactile-surface {
    background: linear-gradient(
      145deg,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(255, 255, 255, 0.05) 50%,
      rgba(0, 0, 0, 0.05) 100%
    );
    box-shadow: 
      inset 0 1px 1px rgba(255, 255, 255, 0.3),
      inset 0 -1px 1px rgba(0, 0, 0, 0.1),
      0 4px 12px -2px rgba(0, 0, 0, 0.1);
  }

  .dark .tactile-surface {
    background: linear-gradient(
      145deg,
      rgba(91, 110, 225, 0.1) 0%,
      rgba(91, 110, 225, 0.03) 50%,
      rgba(0, 0, 0, 0.2) 100%
    );
    box-shadow: 
      inset 0 1px 1px rgba(91, 110, 225, 0.2),
      inset 0 -1px 1px rgba(0, 0, 0, 0.3),
      0 4px 12px -2px rgba(0, 0, 0, 0.4);
  }

  .wavy-divider {
    height: 20px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' fill='%230d9488' opacity='.15'/%3E%3C/svg%3E") repeat-x;
    background-size: 1200px 100%;
  }

  .dark .wavy-divider {
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' fill='%232dd4bf' opacity='.2'/%3E%3C/svg%3E") repeat-x;
    background-size: 1200px 100%;
  }

  .teal-glow {
    box-shadow: 
      0 0 20px -5px rgba(91, 110, 225, 0.4),
      0 0 40px -10px rgba(91, 110, 225, 0.2);
  }

  .orange-glow {
    box-shadow: 
      0 0 20px -5px rgba(229, 57, 53, 0.4),
      0 0 40px -10px rgba(229, 57, 53, 0.2);
  }

  @media (prefers-reduced-motion: reduce) {
    .organic-blob,
    .kinetic-text,
    .voice-pulse,
    .float-gentle,
    .shimmer::after,
    .voice-wave,
    .node-appear,
    .branch-grow,
    .edge-draw,
    .text-breathing {
      animation: none;
    }
    
    .fantasy-card:hover,
    .kinetic-text:hover,
    .mind-map-node:hover,
    .bento-item:hover,
    .depth-card:hover {
      transform: none;
    }
    
    .fade-in,
    .calm-fade-in,
    .calm-scale-in {
      animation: none;
      opacity: 1;
      transform: none;
      filter: none;
    }
  }

  .liquid-glass {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.4) 0%,
      rgba(255, 255, 255, 0.1) 50%,
      rgba(255, 255, 255, 0.3) 100%
    );
    backdrop-filter: blur(24px) saturate(200%);
    -webkit-backdrop-filter: blur(24px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 28px;
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.5),
      inset 0 -1px 0 rgba(0, 0, 0, 0.05);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark .liquid-glass {
    background: linear-gradient(
      135deg,
      rgba(91, 110, 225, 0.15) 0%,
      rgba(91, 110, 225, 0.05) 50%,
      rgba(91, 110, 225, 0.1) 100%
    );
    border: 1px solid rgba(91, 110, 225, 0.2);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(91, 110, 225, 0.3),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  }

  .liquid-glass:hover {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.5) 0%,
      rgba(255, 255, 255, 0.15) 50%,
      rgba(255, 255, 255, 0.4) 100%
    );
    box-shadow: 
      0 12px 48px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -1px 0 rgba(0, 0, 0, 0.08);
  }

  .dark .liquid-glass:hover {
    background: linear-gradient(
      135deg,
      rgba(91, 110, 225, 0.2) 0%,
      rgba(91, 110, 225, 0.08) 50%,
      rgba(91, 110, 225, 0.15) 100%
    );
    box-shadow: 
      0 12px 48px rgba(0, 0, 0, 0.4),
      inset 0 1px 0 rgba(91, 110, 225, 0.4),
      inset 0 -1px 0 rgba(0, 0, 0, 0.3);
  }

  .bento-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
  }

  .bento-grid-dense {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-auto-rows: minmax(120px, auto);
    gap: 12px;
  }

  .bento-item {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 20px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .bento-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px -8px rgba(91, 110, 225, 0.2);
  }

  .bento-item-lg {
    grid-column: span 2;
    grid-row: span 2;
  }

  .bento-item-wide {
    grid-column: span 2;
  }

  .bento-item-tall {
    grid-row: span 2;
  }

  .calm-transition {
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .calm-fade-in {
    animation: calmFadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes calmFadeIn {
    from { 
      opacity: 0; 
      transform: translateY(12px);
      filter: blur(4px);
    }
    to { 
      opacity: 1; 
      transform: translateY(0);
      filter: blur(0);
    }
  }

  .calm-scale-in {
    animation: calmScaleIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes calmScaleIn {
    from { 
      opacity: 0; 
      transform: scale(0.95);
    }
    to { 
      opacity: 1; 
      transform: scale(1);
    }
  }

  .intentional-delay {
    animation-delay: 150ms;
    animation-fill-mode: both;
  }

  .spatial-layer-1 {
    transform: translateZ(0);
    z-index: 10;
  }

  .spatial-layer-2 {
    transform: translateZ(20px);
    z-index: 20;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
  }

  .spatial-layer-3 {
    transform: translateZ(40px);
    z-index: 30;
    filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.15));
  }

  .depth-card {
    transform-style: preserve-3d;
    perspective: 1000px;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .depth-card:hover {
    transform: rotateX(2deg) rotateY(-2deg) translateZ(10px);
  }

  .text-expressive {
    font-variation-settings: 'wght' 400;
    transition: font-variation-settings 0.3s ease;
  }

  .text-expressive:hover {
    font-variation-settings: 'wght' 600;
  }

  .text-breathing {
    animation: textBreathing 4s ease-in-out infinite;
  }

  @keyframes textBreathing {
    0%, 100% { font-variation-settings: 'wght' 400; }
    50% { font-variation-settings: 'wght' 500; }
  }

  .assistive-hint {
    background: var(--secondary);
    border: 1px dashed var(--primary);
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 0.875rem;
    color: var(--secondary-foreground);
    opacity: 0;
    transform: translateY(-8px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
  }

  .assistive-hint.visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .low-stimulus {
    --glass-blur: 8px;
    filter: saturate(0.7);
  }

  .low-stimulus * {
    animation-duration: 0s !important;
    transition-duration: 0.1s !important;
  }

  .low-stimulus .shimmer::after,
  .low-stimulus .voice-pulse,
  .low-stimulus .float-gentle,
  .low-stimulus .organic-blob {
    animation: none !important;
  }

  .simplified-layout {
    --radius: 8px;
  }

  .simplified-layout .fantasy-card,
  .simplified-layout .liquid-glass,
  .simplified-layout .bento-item {
    border-radius: 8px;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: var(--card);
  }

  .focus-mode {
    position: relative;
  }

  .focus-mode::before {
    content: '';
    position: fixed;
    inset: 0;
    background: var(--background);
    opacity: 0.9;
    z-index: -1;
    pointer-events: none;
  }

  .micro-commitment {
    background: var(--secondary);
    border: 2px solid transparent;
    border-radius: 16px;
    padding: 16px 20px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .micro-commitment:hover {
    border-color: var(--primary);
    transform: translateY(-2px);
  }

  .micro-commitment.selected {
    border-color: var(--primary);
    background: var(--sidebar-accent);
  }

  .progress-gentle {
    height: 6px;
    background: var(--muted);
    border-radius: 999px;
    overflow: hidden;
  }

  .progress-gentle-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    border-radius: 999px;
    transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .neo-brutal {
    background: var(--background);
    border: 3px solid var(--foreground);
    border-radius: 0;
    box-shadow: 6px 6px 0 var(--foreground);
    transition: all 0.2s ease;
  }

  .neo-brutal:hover {
    transform: translate(-2px, -2px);
    box-shadow: 8px 8px 0 var(--foreground);
  }

  .neo-brutal:active {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0 var(--foreground);
  }

  @media (prefers-contrast: more) {
    :root {
      --border: rgba(0, 0, 0, 0.4);
    }
    
    .dark {
      --border: rgba(255, 255, 255, 0.4);
    }
    
    .liquid-glass,
    .glass-panel,
    .glass-panel-strong {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      background: var(--card);
      border-width: 2px;
    }
  }

  @media (prefers-color-scheme: dark) {
    .auto-dark-mode {
      --background: #0a0a1a;
      --foreground: #e8ecf7;
      --card: rgba(20, 20, 45, 0.85);
      --primary: #8B9AD8;
    }
  }

  .btn-jelly {
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .btn-jelly:hover {
    transform: scale(1.05);
  }

  .btn-jelly:active {
    transform: scale(0.92);
    transition: transform 0.1s ease;
  }

  .btn-deform {
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .btn-deform:hover {
    border-radius: 40% 60% 60% 40% / 60% 40% 60% 40%;
    transform: scale(1.02);
  }

  .btn-deform:active {
    border-radius: 60% 40% 40% 60% / 40% 60% 40% 60%;
    transform: scale(0.98);
  }

  .tactile-press {
    transition: all 0.15s ease;
    transform-style: preserve-3d;
  }

  .tactile-press:active {
    transform: translateY(2px) scale(0.98);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  .kinetic-heading {
    display: inline-block;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .kinetic-heading:hover {
    transform: skewX(-3deg) scale(1.02);
    color: var(--primary);
  }

  .kinetic-word {
    display: inline-block;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .kinetic-word:hover {
    transform: translateY(-4px) rotate(-2deg);
  }

  .text-wave {
    display: inline-block;
    animation: textWave 3s ease-in-out infinite;
  }

  @keyframes textWave {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-2px) rotate(1deg); }
    75% { transform: translateY(2px) rotate(-1deg); }
  }

  .text-bounce-in {
    animation: textBounceIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes textBounceIn {
    0% { opacity: 0; transform: translateY(20px) scale(0.8); }
    60% { transform: translateY(-5px) scale(1.02); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
  }

  .scrolly-reveal {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .scrolly-reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .scrolly-scale {
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .scrolly-scale.visible {
    opacity: 1;
    transform: scale(1);
  }

  .scrolly-slide-left {
    opacity: 0;
    transform: translateX(-60px);
    transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .scrolly-slide-left.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .scrolly-slide-right {
    opacity: 0;
    transform: translateX(60px);
    transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .scrolly-slide-right.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .quiet-mode {
    --glass-blur: 6px;
    --glass-opacity: 0.9;
  }

  .quiet-mode * {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0.15s !important;
  }

  .quiet-mode .shimmer::after,
  .quiet-mode .voice-pulse,
  .quiet-mode .float-gentle,
  .quiet-mode .organic-blob,
  .quiet-mode .text-wave,
  .quiet-mode .text-breathing {
    animation: none !important;
  }

  .quiet-mode .liquid-glass,
  .quiet-mode .glass-panel {
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  .quiet-mode .teal-glow,
  .quiet-mode .orange-glow {
    box-shadow: none;
  }

  .quiet-mode .fantasy-card:hover,
  .quiet-mode .bento-item:hover,
  .quiet-mode .btn-jelly:hover,
  .quiet-mode .btn-deform:hover {
    transform: none;
  }

  .focus-highlight {
    position: relative;
  }

  .focus-highlight::before {
    content: '';
    position: absolute;
    inset: -4px;
    border: 2px dashed var(--primary);
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .focus-highlight:focus-within::before {
    opacity: 1;
  }

  .z-layer-base {
    z-index: 0;
    transform: translateZ(0);
  }

  .z-layer-float {
    z-index: 10;
    transform: translateZ(10px);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.08));
  }

  .z-layer-elevated {
    z-index: 20;
    transform: translateZ(20px);
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.12));
  }

  .z-layer-modal {
    z-index: 50;
    transform: translateZ(50px);
    filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.2));
  }

  .parallax-slow {
    transform: translateY(calc(var(--scroll-y, 0) * 0.1));
    transition: transform 0.1s linear;
  }

  .parallax-medium {
    transform: translateY(calc(var(--scroll-y, 0) * 0.3));
    transition: transform 0.1s linear;
  }

  .parallax-fast {
    transform: translateY(calc(var(--scroll-y, 0) * 0.5));
    transition: transform 0.1s linear;
  }

  .card-3d {
    transform-style: preserve-3d;
    perspective: 1000px;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-3d:hover {
    transform: rotateX(5deg) rotateY(-5deg) translateZ(20px);
  }

  .card-3d-content {
    transform: translateZ(30px);
  }

  .eco-dark {
    --background: #0a0a0a;
    --card: rgba(20, 20, 20, 0.9);
    filter: brightness(0.95);
  }

  .eco-light-vectors {
    image-rendering: optimizeSpeed;
  }

  .dyslexia-friendly {
    font-family: 'OpenDyslexic', 'Comic Sans MS', sans-serif;
    letter-spacing: 0.05em;
    word-spacing: 0.1em;
    line-height: 1.8;
  }

  .high-contrast-text {
    color: var(--foreground);
    text-shadow: 0 0 1px var(--background);
  }

  .anticipatory-glow {
    position: relative;
  }

  .anticipatory-glow::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    opacity: 0;
    z-index: -1;
    transition: opacity 0.4s ease;
    filter: blur(8px);
  }

  .anticipatory-glow:hover::after {
    opacity: 0.4;
  }
}
